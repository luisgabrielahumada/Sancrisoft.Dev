<section class="content-header">
    <h1>
        <small></small>
    </h1>
    <ol class="breadcrumb">
        <li><a href="#/Home"><i class="fa fa-dashboard"></i> Home</a></li>
        <li class="active">{{pageCurrent}}</li>
    </ol>
</section>
<section class="content">
    <form role="form" name="myForm">
        <div class="row">
            <div class="col-xs-12">
                <div class="box box-success">
                    <div class="box-header">
                        <h3 class="box-title"> Listado de Parametros</h3> <small></small>
                        <div class="box-tools">
                            <div class="input-group input-group-sm" style="width: 350px;">
                                <input type="text" name="search" ng-model="ds_filter" class="form-control pull-right" placeholder="Search">
                                <div class="input-group-btn">
                                    <button type="submit" class="btn btn-default"><i class="fa fa-search"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- /.box-header -->
                    <div class="box-body">
                        <div class="row">
                            <div class="col-xs-12">
                                <div class="form-group">
                                    <div class="col-sm-offset-10">
                                        <button type="submit" class="btn btn-info" ng-click="Save()">Actualizar Parametros</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <table class="table table-bordered">
                            <thead>
                                <tr>
                                    <th>Parametro</th>
                                    <th>Valor</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-if="items.length===0">
                                    <td colspan="20">No hay Registros</td>
                                </tr>
                                <tr ng-repeat="item in items| filter:ds_filter">
                                    <td style="width:75%">
                                        <div class="box-body">
                                            <b>{{item.ds_title}}</b>  "{{item.ds_parameter}}"
                                            <small>{{item.ds_observation}}</small>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="form-group" ng-class="(myForm.{{item.cd_parameter}}.$dirty || !isValid) && !myForm.{{item.cd_parameter}}.$valid?'has-error' : ''">
                                            <div class="box-body" ng-if="item.cd_type==='CONTROL'">
                                                <input type="{{item.cd_control}}" name="{{item.cd_parameter}}" ng-true-value="1" ng-false-value="0" ng-class="item.cd_control==='TEXT' ? 'form-control': ''" ng-model="item.id_value" />
                                            </div>
                                            <div class="box-body" ng-if="item.cd_control==='PROFILES'">
                                                <select class="form-control select2" style="width: 100%;" id="{{item.cd_parameter}}" name="{{item.cd_parameter}}" ng-model="item.id_value" required>
                                                    <option ng-repeat="data in profilesItems" value="{{data.id_value}}">{{data.ds_value}}</option>
                                                </select>
                                            </div>
                                            <div class="box-body" ng-if="item.cd_control==='CD_CITIES'">
                                                <select class="form-control select2" style="width: 100%;" id="{{item.cd_parameter}}" name="{{item.cd_parameter}}" ng-model="item.id_value" required>
                                                    <option ng-repeat="data in citiesItems" value="{{data.id_value}}">{{data.ds_value}}</option>
                                                </select>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                        </table>
                        <div class="box-footer clearfix">
                            <ul class="pagination pagination-sm no-margin pull-right">
                                <paging class="small"
                                        ul-class="pagination"
                                        active-class="active"
                                        disabled-class="disabled"
                                        page="pagination.pageIndex"
                                        page-size="pagination.pageSize"
                                        total="pagination.totalItemCount"
                                        paging-action="List(page)"
                                        show-prev-next="true"
                                        show-first-last="true">
                                </paging>
                            </ul>
                        </div>
                    </div>
                    <!-- /.box-body -->
                </div>
                <!-- /.box -->
            </div>
            <!-- /.col -->
        </div>
        <!-- /.row -->
        </form>
</section>
<!-- /.content -->
